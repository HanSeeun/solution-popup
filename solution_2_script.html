<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./common.css">
    <link rel="stylesheet" href="./styles_2_script.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-7FqqxhJhqks7V8T6T7DjB9XzENFpWeN+YqvYy/qpPu43+14B4J4fW4Q/6Zf76sXdpU6VapJIJmKIIm7I1nODw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
</head>
<body>
    <!--팝업창 시작-->
    <div class="popup-wrap">
        <div class="popup-content">
            <!--팝업창 헤더 영역-->
            <header>
                <div class="main-icon">
                    <img src="./images/main_icon.png" alt="">
                </div>
                <span class="main-title">적극행정</span>
                <div class="dropdown">
                    <button class="dropdown-toggle" type="button">
                      전체 
                      <img src="./images/적극행정_드롭다운아이콘.png" alt="">
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">/notice/selecList.do (63%)</a></li>
                      <li><a class="dropdown-item" href="#">/notice/selecList.do (63%)</a></li>
                      <li><a class="dropdown-item" href="#">/notice/selecList.do (63%)</a></li>
                      <li><a class="dropdown-item" href="#">/notice/selecList.do (63%)</a></li>
                    </ul>
                </div>
                <div class="main_X_icon">
                    <img src="./images/X_icon.png" alt="">
                </div>
            </header>
            <!--팝업창 헤더 영역-->
            <!--팝업창 컨텐츠 영역-->
            <div class="container">
                <!--첫번째 컨텐츠 시작-->
                <div class="contents_1">
                  <div class="contents_1_1">
                    <p class="contents_title">
                        서비스 관계도
                    </p>
                    <div class="content1_1img">
                        <img src="./images/TBL_원구조도.png" alt="">
                    </div>
                  </div>
                  <div class="contents_1_2">
                    <span class="back_text">오늘 기준</span>
                    <p class="contents_title">
                        테이블 정보
                    </p>
                    <div class="contents_1_2_wrap">
                        <ul class="contents_1_2_list">
                            <li>
                                <div class="contents_1_2_title">
                                    <span class="contents_1_2_title_icon"></span>
                                    <span>테이블 명</span>
                                    <span class="contents_1_2_sub_title">TBL_NNA</span>
                                </div>
                            </li>
                            <li>
                                <div class="contents_1_2_title">
                                    <span class="contents_1_2_title_icon"></span>
                                    <span>접속 건수</span>
                                    <span class="contents_1_2_sub_title">1200건</span>
                                </div>
                                <span class="contents_1_2_text">
                                    전일 대비 건수
                                    <span class="contents_1_2_up_text">
                                        320<img src="./images/적극행정_테이블_위-아이콘.png" alt="">
                                    </span>
                                </span>
                                <span class="contents_1_2_text">
                                    전주 평균 대비
                                    <span class="contents_1_2_down_text">
                                        15300<img src="./images/적극행정_테이블_아래아이콘.png" alt="">
                                    </span>
                                </span>
                                <span class="contents_1_2_text">
                                    전주 대비 최소
                                    <span class="contents_1_2_down_text">
                                        8000<img src="./images/적극행정_테이블_아래아이콘.png" alt="">
                                    </span>
                                </span>
                                <span class="contents_1_2_text">
                                    최대
                                    <span class="contents_1_2_down_text">
                                        13200<img src="./images/적극행정_테이블_아래아이콘.png" alt="">
                                    </span>
                                </span>
                            </li>
                            <li>
                                <div class="contents_1_2_title">
                                    <span class="contents_1_2_title_icon"></span>
                                    <span>데이터 건수</span>
                                    <span class="contents_1_2_sub_title">1200건</span>
                                </div>
                                <span class="contents_1_2_text">
                                    전일 대비 건수
                                    <span class="contents_1_2_up_text">
                                        320<img src="./images/적극행정_테이블_위-아이콘.png" alt="">
                                    </span>
                                </span>
                                <span class="contents_1_2_text">
                                    전주 평균 대비
                                    <span class="contents_1_2_up_text">
                                        320<img src="./images/적극행정_테이블_위-아이콘.png" alt="">
                                    </span>
                                </span>
                            </li>
                        </ul>
                    </div>        
                  </div>
                </div>
                <!--첫번째 컨텐츠 끝-->
                <!--두번째 컨텐츠 시작-->
                <div class="contents_2">
                    <p class="contents_title">
                        데이터 건수 추이 그래프
                    </p>
                    <div class="contents2_img">
                        <img src="./images/TBL_차트1.jpg" alt="">
                    </div>
                </div>
                <!--두번째 컨텐츠 끝-->
                <!--세번째 컨텐츠 시작-->
                <div class="contents_3">
                    <p class="contents_title">
                        접속건수
                    </p>
                    <div class="contents3_img">
                        <img src="./images/TBL_차트2.jpg" alt="">
                    </div>
                </div>
                <!--세번째 컨텐츠 끝-->
                <!--네번째 컨텐츠 시작-->
                <div class="contents_4">
                    <p class="contents_title">
                        수행 쿼리 이력
                    </p>
                    <div class="contents_4_wrap">
                        <table class="product_table">
                            <colgroup>
                                <col style="width: 6%">
                                <col style="width: 10%">
                                <col style="width: 30%">
                                <col style="width: 15%">
                                <col style="width: 20%">
                                <col style="width: 20%">
                              </colgroup>
                            <thead class="product_thead">
                                <tr>
                                    <th></th>
                                    <th>별칭</th>
                                    <th>서비스URL</th>
                                    <th>당일 수행건수 <br>/ 전일대비</th>
                                    <th>당일 평균응답시간 <Br>/ 전일대비</th>
                                    <th>최소 접속건수</th>    
                                </tr>
                            </thead>
                            <tbody class="product_tbody">
                                <tr>
                                    <td>
                                        <img src="./images/dropdown_icon.png" alt="">
                                    </td>
                                    <td>공지사항</td>
                                    <td>SELECT'FROM TBL-_NNAWHERE...</td>
                                    <td>2600(26%)</td>
                                    <td>1.55ms(<img src="./images/적극행정_테이블_아래아이콘.png" alt=""> +0.32ms)</td>
                                    <td>1000건 (16:00-17:00)</td>
                                </tr>
                                <tr>
                                    <td>
                                        <img src="./images/dropdown_icon.png" alt="">
                                    </td>
                                    <td>공지사항</td>
                                    <td>INSERT INTO TBL_NNA(...)VALUES(...)</td>
                                    <td>1500(15%)</td>
                                    <td>0.41ms(<img src="./images/적극행정_테이블_아래아이콘.png" alt=""> -0.11ms)</td>
                                    <td>1000건 (16:00-17:00)</td>
                                </tr>
                                <tr>
                                    <td>
                                        <img src="./images/dropdown_icon.png" alt="">
                                    </td>
                                    <td>관계도</td>
                                    <td>SELECT'FROM TBL-_NNAWHERE...</td>
                                    <td>400(4%)</td>
                                    <td>10.02ms(<img src="./images/적극행정_테이블_아래아이콘.png" alt=""> -1.01ms)</td>
                                    <td>1000건 (16:00-17:00)</td>
                                </tr>
                                <tr>
                                    <td>
                                        <img src="./images/dropup_icon.png" alt="">
                                    </td>
                                    <td>체육포털</td>
                                    <td>/notice/selecetList.do</td>
                                    <td>300(3%)</td>
                                    <td>15.035ms(<img src="./images/적극행정_테이블_위-아이콘.png" alt=""> +0.32ms)</td>
                                    <td>1000건 (16:00-17:00)</td>
                                    <td>
                                        <div class="inner_table_wrap">
                                            <div class="inner_table_list">
                                                <ul class="inner_thead">
                                                    <li>Query 상세보기</li>
                                                    <li>비인딩 컬럼</li>
                                                </ul>
                                                <ul class="inner_tbody">
                                                    <li>
                                                        <p>
                                                            <span>SELECT*</span>
                                                            <span>QCN_D</span>
                                                        </p>
                                                        <p>
                                                            <span>FROM TBL_NNA</span>
                                                            <span>QCN_F</span>
                                                        </p>
                                                        <p>
                                                            <span>WHERE QCN_D = DATA1 AND QCN_F = DATA2</span>
                                                            <span></span>
                                                        </p>
                                                    </li>
                                                    <li>
                                                        <p>
                                                            <span>AAAA</span>
                                                            <span>QCN_E</span>
                                                        </p>
                                                        <p>
                                                            <span>BBBBBB</span>
                                                            <span>QCN_T</span>
                                                        </p>
                                                        <p>
                                                            <span>CCCCC</span>
                                                            <span></span>
                                                        </p>
                                                    </li>
                                                    <li>
                                                        <p>
                                                            <span>WEFDSFSDF</span>
                                                            <span>QCN_S</span>
                                                        </p>
                                                        <p>
                                                            <span>FSDFSDF</span>
                                                            <span>QCN_P</span>
                                                        </p>
                                                        <p>
                                                            <span>QWDEFSDF</span>
                                                            <span></span>
                                                        </p>
                                                    </li>
                                                    <li>
                                                        <p>
                                                            <span>yyyyyy</span>
                                                            <span>QCN_K</span>
                                                        </p>
                                                        <p>
                                                            <span>mmmmmm</span>
                                                            <span>QCN_J</span>
                                                        </p>
                                                        <p>
                                                            <span>GFHFGH</span>
                                                            <span></span>
                                                        </p>
                                                    </li>
                                                    <li>
                                                        <p>
                                                            <span>ERTERTER</span>
                                                            <span>QCN_L</span>
                                                        </p>
                                                        <p>
                                                            <span>NGNGN</span>
                                                            <span>QCN_Z</span>
                                                        </p>
                                                        <p>
                                                            <span>WERF</span>
                                                            <span></span>
                                                        </p>
                                                    </li>
                                                </ul>
                                                <div class="dot_wrap">
                                                    <span class="dot"></span>
                                                    <span class="dot"></span>
                                                    <span class="dot"></span>
                                                    <span class="dot"></span>
                                                    <span class="dot"></span>
                                                </div>
                                                <!--슬라이드 버튼-->
                                                <span class="prev_btn"><img src="./images/left_btn.png" alt="" /></span>
                                                <span class="next_btn"><img src="./images/right_btn.png" alt="" /></span> 
                                                <!--슬라이드 버튼-->
 
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--네번째 컨텐츠 끝-->
                <!--다섯번째 컨텐츠 시작-->
                <div class="contents_5">
                    <p class="contents_title">
                        테이블 명세서
                    </p>
                    <div class="contents_5_wrap">
                        <table class="count_table">
                            <thead class="count_thead count_thead_left">
                                <tr>
                                    <th>테이블명</th>
                                    <th colspan="5">SNS_BOARD</th>   
                                </tr>
                            </thead>
                            <tbody class="count_tbody">
                                <tr>
                                    <td>테이블 Description</td>
                                    <td>SNS 게시판 테이블</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="count_table">
                            <thead class="count_thead">
                                <tr>
                                    <th>컬럼명</th>
                                    <th>타입</th> 
                                    <th>Not_null</th>
                                    <th>Key</th>
                                    <th>Default</th>
                                    <th>Description</th>  
                                </tr>
                            </thead>
                            <tbody class="count_tbody">
                                <tr>
                                    <td>SNS_CD</td>
                                    <td>varchar(5)</td>
                                    <td></td>
                                    <td>PRI</td>
                                    <td></td>
                                    <td>SNS 코드</td>
                                </tr>
                                <tr>
                                    <td>BBS_CD</td>
                                    <td>varchar(100)</td>
                                    <td>V</td>
                                    <td>PRI</td>
                                    <td></td>
                                    <td>게시판 코드</td>
                                </tr>
                                <tr>
                                    <td>TITLE</td>
                                    <td>text</td>
                                    <td></td>
                                    <td></td>
                                    <td>NULL</td>
                                    <td>제목</td>
                                </tr>
                                <tr>
                                    <td>CN</td>
                                    <td>longtext</td>
                                    <td></td>
                                    <td></td>
                                    <td>NULL</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>MEDIA_TY</td>
                                    <td>varchar(300)</td>
                                    <td></td>
                                    <td></td>
                                    <td>NULL</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>tAG</td>
                                    <td>text</td>
                                    <td></td>
                                    <td></td>
                                    <td>NULL</td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>_URL</td>
                                    <td>varchar(300)</td>
                                    <td></td>
                                    <td></td>
                                    <td>NULL</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--다섯번째 컨텐츠 끝-->
            </div>
            <!--팝업창 컨텐츠 영역-->
    </div>
    <!--팝업창 시작-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js "></script>
    <!--GSAP CDN 코드 -->
    
    <script>
        //드롭다운 스크립트 시작
        const dropdownButton = document.querySelector('.dropdown-toggle');
        const dropdownMenu = document.querySelector('.dropdown-menu');
      
        dropdownButton.addEventListener('click', function() {
          if (dropdownMenu.style.display === 'none') {
            dropdownMenu.style.display = 'block';
          } else {
            dropdownMenu.style.display = 'none';
          }
        });
        //드롭다운 스크립트 끝

        //슬라이드 스크립트 시작
        window.addEventListener('load', ()=>{
            visualSlideEffect()
        })

        function visualSlideEffect(){
            const visualWrap=document.querySelector('.inner_table_wrap')
            const visualInner=document.querySelector('.inner_table_list')
            const visualList=document.querySelector('.inner_tbody')
            const visualLi=document.querySelectorAll('.inner_tbody>li')
            const btnImg=document.querySelectorAll('.inner_tbody>span>img')
            const nextBtn=document.querySelector('.next_btn')
            const prevBtn=document.querySelector('.prev_btn')
            const dots=document.querySelectorAll('.dot')

            const autoplayIntervalTime = 2000 // 자동 슬라이드 간격 (ms)
            let autoplayIntervalId = null // setInterval() ID 저장 변수

            let visualLength=visualLi.length
            let visualWidth=visualInner.offsetWidth
            let currentIndex=0
            let nextIndex=1

            init()
            initEvent()
            startAutoPlay()

            function init(){
                gsap.set(visualLi, {left:visualWidth, opacity:0.2})
                gsap.set(visualLi[0], {left:0, opacity:1})
                dots[0].classList.add('active')
            }

            function initEvent(){
                nextBtn.addEventListener('click', slideVisualNext)
                prevBtn.addEventListener('click', slideVisualPrev)

                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        if (index !== currentIndex) {
                            nextIndex = index
                            slideVisualNext()
                        }
                    })
                })

                visualWrap.addEventListener('mouseenter', stopAutoplay) // 마우스 오버 시 자동 슬라이드 멈춤
                visualWrap.addEventListener('mouseleave', startAutoPlay) // 마우스 아웃 시 자동 슬라이드 재개

            }

            function startAutoPlay(){
                if(!autoplayIntervalId){
                    autoplayIntervalId=setInterval(()=>{
                        slideVisualNext()
                    }, autoplayIntervalTime)
                }
            }
            function stopAutoplay(){
                if(autoplayIntervalId){
                    clearInterval(autoplayIntervalId)
                    autoplayIntervalId=null
                }
            }

            function slideVisualNext(){

                dots[currentIndex].classList.remove('active'); // 현재 도트의 active 클래스 제거
                nextIndex=currentIndex+1
                if(nextIndex>=visualLength){
                    nextIndex=0
                }

                gsap.to(visualLi[currentIndex], {left:-visualWidth, opacity:0, duration:0.4, ease:'power1.out'})
                gsap.set(visualLi[nextIndex], {left:visualWidth})
                gsap.to(visualLi[nextIndex], {left:0, opacity:1, duration:0.4, ease:'power1.out'})

                currentIndex=nextIndex
                dots[currentIndex].classList.add('active') // 다음 도트에 active 클래스 추가
            }

            function slideVisualPrev(){

                dots[currentIndex].classList.remove('active') // 현재 도트의 active 클래스 제거
                nextIndex=currentIndex-1
                if(nextIndex<0){
                    nextIndex=visualLength-1
                }

                gsap.to(visualLi[currentIndex], {left:visualWidth, opacity:0, duration:0.4, ease:'power1.out'})
                gsap.set(visualLi[nextIndex], {left:-visualWidth})
                gsap.to(visualLi[nextIndex], {left:0, opacity:1, duration:0.4, ease:'power1.out'})

                currentIndex=nextIndex
                dots[currentIndex].classList.add('active') // 다음 도트에 active 클래스 추가
     
            }
        }
        //슬라이드 스크립트 끝
    </script>
   
    
</body>
</html>